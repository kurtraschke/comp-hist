#!/usr/bin/perl -w

#Tovcg, take 2

print("graph: {\ntitle: \"The Computer Family Tree\"\n");
while(<>){
    if(/.*\#/){ next; }
    if(/^(\S+)/){ print("node: { title: \"$1\""); $node = $1; next; }
    if(/.*Name: (.*)/){ print(" label: \"$1\"}\n"); next; }
    if(/.*Aka (\S+)/) {
        print("edge: { sourcename: \"$1\" targetname: \"$node\" thickness: 8 arrowsize: 40 backarrowsize: 400 }\n");
    }
    if (/.*Successor to (\S+)/) {
        print("edge: { sourcename: \"$1\" targetname: \"$node\" thickness: 4 arrowsize: 20 }\n");
    }
    if (/.*Code taken from (\S+)/) {
        print("edge: { sourcename: \"$1\" targetname: \"$node\" }\n");
    }
    if (/.*Influenced by (\S+)/) {
        print("edge: { sourcename: \"$1\" targetname: \"$node\" linestyle: dashed }\n");
    }
}

print("\n}\n");





